apiVersion: v1
kind: Pod
metadata:
  creationTimestamp: null
  labels:
    run: samples-bookinfo-ratings
  name: samples-bookinfo-ratings
spec:
  containers:
  - image: flomesh/samples-bookinfo-ratings:latest
    name: samples-bookinfo-ratings
    env:
    - name: eureka.client.enabled
      value: 'false'
    - name: spring.cloud.config.discovery.enabled
      value: 'false'
    - name: spring.cloud.config.uri
      value: 'http://samples-config-service:8888'
    - name: spring.application.name
      value: 'bookinfo-ratings'    
    ports:
    - containerPort: 8101
    resources: {}
    lifecycle:
      preStop:
        httpGet:
          host: localhost
          port: 8762
          path: /deregister
  dnsPolicy: ClusterFirst
  restartPolicy: Always
status: {}